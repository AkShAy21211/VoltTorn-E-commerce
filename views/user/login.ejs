<%- include('../layout/header.ejs') %>
<link rel="stylesheet" href="/css/login.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<title>VoltTron</title>
    
</body>
<main class="container">
    <div class="row login-box " >
        <div class="col-12 col-md-6 col-lg-5 col-xl-4 login-outer  " >
            <h1 style="font-weight:normal; font-size: 25px; text-align: center;margin-bottom: 30px; " class="m">
                 <b style="color: rgba(1, 99, 224, 0.85); font-size: 40px;">VoltTron</b></h1>

            <% if (typeof message !== 'undefined') { %>
            <div class="alert alert-danger" role="alert">
                <p><%= message %></p>
            </div>
            <% } %>

            <form action="" method="post" onsubmit="return validateForm()">
                <div class="form-floating mb-3">
                    <input type="email" class="form-control" id="email" placeholder="name@example.com" name="email" oninput="validateEmail()">

                    <label for="email">Email address</label>
                    <p id="emailWarning" class="text-danger"></p>
                </div>

                <div class="form-floating mb-3 pass-box">
                    <input type="password" class="form-control" id="password1" placeholder="Password" name="password" oninput="validatePassword()">

                    <i id="eye1" class="fa fa-eye-slash" aria-hidden="true"></i>
                    <label for="password">Password</label>
                    <p id="passwordWarning" class="text-danger"></p>
                </div>
                <div class="form-floating mb-3">
                    <button type="submit" class="btn btn-primary btn-sign-in">Sign in</button>
                </div>
                <div class="new-user-box d-flex justify-content-around">
                    <p style="font-size: 15px;" class="mt-3 text-center">New user?.<a href="/register">Create an account</a></p>
                    <p style="font-size: 15px;" class="mt-3 text-center"><a href="/forget-password">Forget Password?</a></p>
                </div>
            </form>
        </div>
    </div>
</main>

<script src="/js/paswdToggle.js"></script>
<script>
   function validateEmail() {
        var email = document.getElementById('email').value;
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

        if (email === '') {
            document.getElementById('emailWarning').innerText = 'Email is required';
        } else if (!emailRegex.test(email)) {
            document.getElementById('emailWarning').innerText = 'Invalid email format';
        } else if (!email.includes('.com')) {
            document.getElementById('emailWarning').innerText = 'Email must contain ".com"';
        } else {
            document.getElementById('emailWarning').innerText = '';
        }
    }

    function validatePassword() {
        var password = document.getElementById('password1').value;

        if (password === '') {
            document.getElementById('passwordWarning').innerText = 'Password is required';
        } else {
            document.getElementById('passwordWarning').innerText = '';
        }
    }
</script>
<%- include('../layout/footer.ejs') %>
